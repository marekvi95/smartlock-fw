<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Smartlock: Sf_conf_func_group</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Smartlock
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Sf_conf_func_group</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga68177f0281489ba75661dc8517f4d547"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sf__conf__func__group.html#ga68177f0281489ba75661dc8517f4d547">SF_SetupSPI</a> (<a class="el" href="structsf__spi__config__t.html">sf_spi_config_t</a> *spiConfig, const spi_sdk_master_config_t *userSpiSdkConfig)</td></tr>
<tr class="memdesc:ga68177f0281489ba75661dc8517f4d547"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures SPI module used by the SIGFOX device.  <a href="#ga68177f0281489ba75661dc8517f4d547">More...</a><br /></td></tr>
<tr class="separator:ga68177f0281489ba75661dc8517f4d547"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03c809115624f8f392eacf4baf087a55"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sf__conf__func__group.html#ga03c809115624f8f392eacf4baf087a55">SF_SetupGPIOs</a> (<a class="el" href="structsf__gpio__config__t.html">sf_gpio_config_t</a> *gpioConfig)</td></tr>
<tr class="memdesc:ga03c809115624f8f392eacf4baf087a55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration of GPIOs used for the SIGFOX device. Note that this function should not be used in SDK S32 when using pin_mux component.  <a href="#ga03c809115624f8f392eacf4baf087a55">More...</a><br /></td></tr>
<tr class="separator:ga03c809115624f8f392eacf4baf087a55"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga03c809115624f8f392eacf4baf087a55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga03c809115624f8f392eacf4baf087a55">&#9670;&nbsp;</a></span>SF_SetupGPIOs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SF_SetupGPIOs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsf__gpio__config__t.html">sf_gpio_config_t</a> *&#160;</td>
          <td class="paramname"><em>gpioConfig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configuration of GPIOs used for the SIGFOX device. Note that this function should not be used in SDK S32 when using pin_mux component. </p>
<p>Example: </p><div class="fragment"><div class="line"><span class="comment">// Data used by SIGFOX driver. You should use this structure in all</span></div><div class="line"><span class="comment">// driver&#39;s functions.</span></div><div class="line"><a class="code" href="structsf__drv__data__t.html">sf_drv_data_t</a> drvData;</div><div class="line"></div><div class="line"><span class="comment">// ACK pin.</span></div><div class="line">drvData.<a class="code" href="structsf__drv__data__t.html#add32ea9a60dd3cf56bce44e4bb31782d">gpioConfig</a>.<a class="code" href="structsf__gpio__config__t.html#a02b33c24794de044e02bf779fe5ec494">ackPin</a>.<a class="code" href="structsf__gpio__sel__t.html#a92ec1b839cc60a854da420c83ba78aa1">gpioInstance</a> = <a class="code" href="group__enum__group.html#gga325a66c5aefcf2c26cd0234c7e4bb0efa867ccd8588650dbc8d8815973e0462b2">instanceD</a>;</div><div class="line">drvData.<a class="code" href="structsf__drv__data__t.html#add32ea9a60dd3cf56bce44e4bb31782d">gpioConfig</a>.<a class="code" href="structsf__gpio__config__t.html#a02b33c24794de044e02bf779fe5ec494">ackPin</a>.<a class="code" href="structsf__gpio__sel__t.html#a6ab60439fc8e4e0575afdd2cf2bb9670">gpioPinNumber</a> = 2U;</div><div class="line"><span class="comment">// SPI chip select pin.</span></div><div class="line">drvData.<a class="code" href="structsf__drv__data__t.html#add32ea9a60dd3cf56bce44e4bb31782d">gpioConfig</a>.<a class="code" href="structsf__gpio__config__t.html#a01e95ad0a9d20140a3d2a73857bb5796">csPin</a>.<a class="code" href="structsf__gpio__sel__t.html#a92ec1b839cc60a854da420c83ba78aa1">gpioInstance</a> = <a class="code" href="group__enum__group.html#gga325a66c5aefcf2c26cd0234c7e4bb0efa867ccd8588650dbc8d8815973e0462b2">instanceD</a>;</div><div class="line">drvData.<a class="code" href="structsf__drv__data__t.html#add32ea9a60dd3cf56bce44e4bb31782d">gpioConfig</a>.<a class="code" href="structsf__gpio__config__t.html#a01e95ad0a9d20140a3d2a73857bb5796">csPin</a>.<a class="code" href="structsf__gpio__sel__t.html#a6ab60439fc8e4e0575afdd2cf2bb9670">gpioPinNumber</a> = 4U;</div><div class="line"></div><div class="line"><a class="code" href="group__sf__conf__func__group.html#ga03c809115624f8f392eacf4baf087a55">SF_SetupGPIOs</a>(&amp;(drvData.<a class="code" href="structsf__drv__data__t.html#add32ea9a60dd3cf56bce44e4bb31782d">gpioConfig</a>));</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gpioConfig</td><td>Structure for GPIO configuration.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="ga68177f0281489ba75661dc8517f4d547"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga68177f0281489ba75661dc8517f4d547">&#9670;&nbsp;</a></span>SF_SetupSPI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SF_SetupSPI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsf__spi__config__t.html">sf_spi_config_t</a> *&#160;</td>
          <td class="paramname"><em>spiConfig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const spi_sdk_master_config_t *&#160;</td>
          <td class="paramname"><em>userSpiSdkConfig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures SPI module used by the SIGFOX device. </p>
<p>User can either provide required inputs or pass through SDK configuration structure. In former case SDK configuration structure is created automatically, filled with provided inputs and the rest of configuration items uses default values. In the latter case it is passed without any changes directly to the initialization function.</p>
<p>Example of automatic creation of the SPI SDK configuration structure with</p>
<p>use of spiConfig parameter: </p><div class="fragment"><div class="line"><span class="comment">// Data used by SIGFOX driver. You should use this structure in all</span></div><div class="line"><span class="comment">// driver&#39;s functions.</span></div><div class="line"><a class="code" href="structsf__drv__data__t.html">sf_drv_data_t</a> drvData;</div><div class="line"></div><div class="line">drvData.<a class="code" href="structsf__drv__data__t.html#a86cf59ba9cfdafebf74e3cb1a5b2a507">spiConfig</a>.<a class="code" href="structsf__spi__config__t.html#abe234e3e56ed07590f4377320714a7d4">spiInstance</a> = 1U;     <span class="comment">// SPI 1 peripheral.</span></div><div class="line">drvData.<a class="code" href="structsf__drv__data__t.html#a86cf59ba9cfdafebf74e3cb1a5b2a507">spiConfig</a>.<a class="code" href="structsf__spi__config__t.html#ab38a80feace530cdca66134f6e3801aa">baudRate</a> = 125000U;</div><div class="line">drvData.<a class="code" href="structsf__drv__data__t.html#a86cf59ba9cfdafebf74e3cb1a5b2a507">spiConfig</a>.<a class="code" href="structsf__spi__config__t.html#ac83aea11badb20dd2844adf51262c9d0">sourceClkHz</a> = <a class="code" href="group__clock.html#ga53acae220d651789bb505c53c73ecf2b">CLOCK_GetFreq</a>(<a class="code" href="group__clock.html#gga10eb499a97d1bd20020841220bb5de74a5d1ee238337b6aa2486a42feabdd5133">kCLOCK_BusClk</a>);</div><div class="line"></div><div class="line"><a class="code" href="group__sf__conf__func__group.html#ga68177f0281489ba75661dc8517f4d547">SF_SetupSPI</a>(&amp;(drvData.<a class="code" href="structsf__drv__data__t.html#a86cf59ba9cfdafebf74e3cb1a5b2a507">spiConfig</a>), NULL);</div></div><!-- fragment --><p>Example of SPI configuration in SDK 2.3, where user must provide master configuration structure (spiSdkConfig parameter): </p><div class="fragment"><div class="line"><span class="comment">// SDK 2.3 SPI master configuration used by SPI driver.</span></div><div class="line"><a class="code" href="struct__spi__master__config.html">spi_master_config_t</a> masterConfig = {0};</div><div class="line"><span class="comment">// Data used by SIGFOX driver. You should use this structure in all</span></div><div class="line"><span class="comment">// driver&#39;s functions.</span></div><div class="line"><a class="code" href="structsf__drv__data__t.html">sf_drv_data_t</a> drvData;</div><div class="line"></div><div class="line">drvData.<a class="code" href="structsf__drv__data__t.html#a86cf59ba9cfdafebf74e3cb1a5b2a507">spiConfig</a>.<a class="code" href="structsf__spi__config__t.html#abe234e3e56ed07590f4377320714a7d4">spiInstance</a> = 1U;     <span class="comment">// SPI 1 peripheral.</span></div><div class="line">drvData.<a class="code" href="structsf__drv__data__t.html#a86cf59ba9cfdafebf74e3cb1a5b2a507">spiConfig</a>.<a class="code" href="structsf__spi__config__t.html#ab38a80feace530cdca66134f6e3801aa">baudRate</a> = 125000U;</div><div class="line">drvData.<a class="code" href="structsf__drv__data__t.html#a86cf59ba9cfdafebf74e3cb1a5b2a507">spiConfig</a>.<a class="code" href="structsf__spi__config__t.html#ac83aea11badb20dd2844adf51262c9d0">sourceClkHz</a> = <a class="code" href="group__clock.html#ga53acae220d651789bb505c53c73ecf2b">CLOCK_GetFreq</a>(<a class="code" href="group__clock.html#gga10eb499a97d1bd20020841220bb5de74a5d1ee238337b6aa2486a42feabdd5133">kCLOCK_BusClk</a>);</div><div class="line"></div><div class="line"><span class="comment">// Use default configuration and update baudrate and chip select mode </span></div><div class="line"><span class="comment">// (CS is handled by GPIO).</span></div><div class="line"><a class="code" href="group__spi__driver.html#ga45c08fc078ae334b79fb844379140838">SPI_MasterGetDefaultConfig</a>(&amp;masterConfig);</div><div class="line">masterConfig.<a class="code" href="struct__spi__master__config.html#aa5df547b4cb95d3c959373cf6fa672b5">baudRate_Bps</a> = 125000U;</div><div class="line">masterConfig.<a class="code" href="struct__spi__master__config.html#a285cf929f1817b37a10f2afffc810ac8">outputMode</a> = <a class="code" href="group__spi__driver.html#gga2e815689312c22a94fe0519f7bc0a991a3825177650b5d4bfb5dc603f0ce41381">kSPI_SlaveSelectAsGpio</a>;</div><div class="line"></div><div class="line"><a class="code" href="group__sf__conf__func__group.html#ga68177f0281489ba75661dc8517f4d547">SF_SetupSPI</a>(&amp;(drvData.<a class="code" href="structsf__drv__data__t.html#a86cf59ba9cfdafebf74e3cb1a5b2a507">spiConfig</a>), &amp;masterConfig);</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spiConfig</td><td>Structure for SPI configuration. </td></tr>
    <tr><td class="paramname">userSpiSdkConfig</td><td>SDK configuration structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
