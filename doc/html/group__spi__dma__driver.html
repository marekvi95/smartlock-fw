<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Smartlock: Spi_dma_driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Smartlock
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle">
<div class="title">Spi_dma_driver</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__spi__dma__handle.html">_spi_dma_handle</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI DMA transfer handle, users should not touch the content of the handle.  <a href="struct__spi__dma__handle.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga82061a780c6c1eba4b269c70d15dcff4"><td class="memItemLeft" align="right" valign="top"><a id="ga82061a780c6c1eba4b269c70d15dcff4"></a>
typedef struct <a class="el" href="struct__spi__dma__handle.html">_spi_dma_handle</a>&#160;</td><td class="memItemRight" valign="bottom"><b>spi_dma_handle_t</b></td></tr>
<tr class="separator:ga82061a780c6c1eba4b269c70d15dcff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacbd157eee3bc09fe3156002bf242d15f"><td class="memItemLeft" align="right" valign="top"><a id="gacbd157eee3bc09fe3156002bf242d15f"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__dma__driver.html#gacbd157eee3bc09fe3156002bf242d15f">spi_dma_callback_t</a>) (<a class="el" href="struct_s_p_i___type.html">SPI_Type</a> *base, <a class="el" href="struct__spi__dma__handle.html">spi_dma_handle_t</a> *handle, <a class="el" href="group__ksdk__common.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> status, void *userData)</td></tr>
<tr class="memdesc:gacbd157eee3bc09fe3156002bf242d15f"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI DMA callback called at the end of transfer. <br /></td></tr>
<tr class="separator:gacbd157eee3bc09fe3156002bf242d15f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Driver version</h2></td></tr>
<tr class="memitem:gab72873a3a11fc293023558be553de43c"><td class="memItemLeft" align="right" valign="top"><a id="gab72873a3a11fc293023558be553de43c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__dma__driver.html#gab72873a3a11fc293023558be553de43c">FSL_SPI_DMA_DRIVER_VERSION</a>&#160;&#160;&#160;(<a class="el" href="group__ftfx__utilities.html#ga812138aa3315b0c6953c1a26130bcc37">MAKE_VERSION</a>(2, 0, 4))</td></tr>
<tr class="memdesc:gab72873a3a11fc293023558be553de43c"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI DMA driver version 2.0.4. <br /></td></tr>
<tr class="separator:gab72873a3a11fc293023558be553de43c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
DMA Transactional</h2></td></tr>
<tr class="memitem:ga5e1c842943c46c7daf3d6ecd99fe8681"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__dma__driver.html#ga5e1c842943c46c7daf3d6ecd99fe8681">SPI_MasterTransferCreateHandleDMA</a> (<a class="el" href="struct_s_p_i___type.html">SPI_Type</a> *base, <a class="el" href="struct__spi__dma__handle.html">spi_dma_handle_t</a> *handle, <a class="el" href="group__spi__dma__driver.html#gacbd157eee3bc09fe3156002bf242d15f">spi_dma_callback_t</a> callback, void *userData, <a class="el" href="group__dma.html#gac4a65788d7e5762d16a41a50b2cd7956">dma_handle_t</a> *txHandle, <a class="el" href="group__dma.html#gac4a65788d7e5762d16a41a50b2cd7956">dma_handle_t</a> *rxHandle)</td></tr>
<tr class="memdesc:ga5e1c842943c46c7daf3d6ecd99fe8681"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the SPI master DMA handle.  <a href="#ga5e1c842943c46c7daf3d6ecd99fe8681">More...</a><br /></td></tr>
<tr class="separator:ga5e1c842943c46c7daf3d6ecd99fe8681"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2bcf43f1d6908810b6b41d2d87bda3a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ksdk__common.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__dma__driver.html#ga2bcf43f1d6908810b6b41d2d87bda3a9">SPI_MasterTransferDMA</a> (<a class="el" href="struct_s_p_i___type.html">SPI_Type</a> *base, <a class="el" href="struct__spi__dma__handle.html">spi_dma_handle_t</a> *handle, <a class="el" href="group__spi__driver.html#ga59314d5596f240cfbe8b9466bd99ed3f">spi_transfer_t</a> *xfer)</td></tr>
<tr class="memdesc:ga2bcf43f1d6908810b6b41d2d87bda3a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a non-blocking SPI transfer using DMA.  <a href="#ga2bcf43f1d6908810b6b41d2d87bda3a9">More...</a><br /></td></tr>
<tr class="separator:ga2bcf43f1d6908810b6b41d2d87bda3a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac5f2aabca472a57709db2ef153e031c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__dma__driver.html#gac5f2aabca472a57709db2ef153e031c8">SPI_MasterTransferAbortDMA</a> (<a class="el" href="struct_s_p_i___type.html">SPI_Type</a> *base, <a class="el" href="struct__spi__dma__handle.html">spi_dma_handle_t</a> *handle)</td></tr>
<tr class="memdesc:gac5f2aabca472a57709db2ef153e031c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abort a SPI transfer using DMA.  <a href="#gac5f2aabca472a57709db2ef153e031c8">More...</a><br /></td></tr>
<tr class="separator:gac5f2aabca472a57709db2ef153e031c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga642d1fe963b7f1c28e5d8f4dd5b92861"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ksdk__common.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__dma__driver.html#ga642d1fe963b7f1c28e5d8f4dd5b92861">SPI_MasterTransferGetCountDMA</a> (<a class="el" href="struct_s_p_i___type.html">SPI_Type</a> *base, <a class="el" href="struct__spi__dma__handle.html">spi_dma_handle_t</a> *handle, size_t *count)</td></tr>
<tr class="memdesc:ga642d1fe963b7f1c28e5d8f4dd5b92861"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the transferred bytes for SPI slave DMA.  <a href="#ga642d1fe963b7f1c28e5d8f4dd5b92861">More...</a><br /></td></tr>
<tr class="separator:ga642d1fe963b7f1c28e5d8f4dd5b92861"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="gac5f2aabca472a57709db2ef153e031c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac5f2aabca472a57709db2ef153e031c8">&#9670;&nbsp;</a></span>SPI_MasterTransferAbortDMA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPI_MasterTransferAbortDMA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_s_p_i___type.html">SPI_Type</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__spi__dma__handle.html">spi_dma_handle_t</a> *&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Abort a SPI transfer using DMA. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>SPI peripheral base address. </td></tr>
    <tr><td class="paramname">handle</td><td>SPI DMA handle pointer.</td></tr>
  </table>
  </dd>
</dl>
<p>brief Abort a SPI transfer using DMA.</p>
<p>param base SPI peripheral base address. param handle SPI DMA handle pointer. </p>

</div>
</div>
<a id="ga5e1c842943c46c7daf3d6ecd99fe8681"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5e1c842943c46c7daf3d6ecd99fe8681">&#9670;&nbsp;</a></span>SPI_MasterTransferCreateHandleDMA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPI_MasterTransferCreateHandleDMA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_s_p_i___type.html">SPI_Type</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__spi__dma__handle.html">spi_dma_handle_t</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__spi__dma__driver.html#gacbd157eee3bc09fe3156002bf242d15f">spi_dma_callback_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__dma.html#gac4a65788d7e5762d16a41a50b2cd7956">dma_handle_t</a> *&#160;</td>
          <td class="paramname"><em>txHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__dma.html#gac4a65788d7e5762d16a41a50b2cd7956">dma_handle_t</a> *&#160;</td>
          <td class="paramname"><em>rxHandle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the SPI master DMA handle. </p>
<p>This function initializes the SPI master DMA handle which can be used for other SPI master transactional APIs. Usually, for a specified SPI instance, user need only call this API once to get the initialized handle.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>SPI peripheral base address. </td></tr>
    <tr><td class="paramname">handle</td><td>SPI handle pointer. </td></tr>
    <tr><td class="paramname">callback</td><td>User callback function called at the end of a transfer. </td></tr>
    <tr><td class="paramname">userData</td><td>User data for callback. </td></tr>
    <tr><td class="paramname">txHandle</td><td>DMA handle pointer for SPI Tx, the handle shall be static allocated by users. </td></tr>
    <tr><td class="paramname">rxHandle</td><td>DMA handle pointer for SPI Rx, the handle shall be static allocated by users.</td></tr>
  </table>
  </dd>
</dl>
<p>brief Initialize the SPI master DMA handle.</p>
<p>This function initializes the SPI master DMA handle which can be used for other SPI master transactional APIs. Usually, for a specified SPI instance, user need only call this API once to get the initialized handle.</p>
<p>param base SPI peripheral base address. param handle SPI handle pointer. param callback User callback function called at the end of a transfer. param userData User data for callback. param txHandle DMA handle pointer for SPI Tx, the handle shall be static allocated by users. param rxHandle DMA handle pointer for SPI Rx, the handle shall be static allocated by users. </p>

</div>
</div>
<a id="ga2bcf43f1d6908810b6b41d2d87bda3a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2bcf43f1d6908810b6b41d2d87bda3a9">&#9670;&nbsp;</a></span>SPI_MasterTransferDMA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ksdk__common.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> SPI_MasterTransferDMA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_s_p_i___type.html">SPI_Type</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__spi__dma__handle.html">spi_dma_handle_t</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__spi__driver.html#ga59314d5596f240cfbe8b9466bd99ed3f">spi_transfer_t</a> *&#160;</td>
          <td class="paramname"><em>xfer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a non-blocking SPI transfer using DMA. </p>
<dl class="section note"><dt>Note</dt><dd>This interface returned immediately after transfer initiates, users should call SPI_GetTransferStatus to poll the transfer status to check whether SPI transfer finished.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>SPI peripheral base address. </td></tr>
    <tr><td class="paramname">handle</td><td>SPI DMA handle pointer. </td></tr>
    <tr><td class="paramname">xfer</td><td>Pointer to dma transfer structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">kStatus_Success</td><td>Successfully start a transfer. </td></tr>
    <tr><td class="paramname">kStatus_InvalidArgument</td><td>Input argument is invalid. </td></tr>
    <tr><td class="paramname">kStatus_SPI_Busy</td><td>SPI is not idle, is running another transfer.</td></tr>
  </table>
  </dd>
</dl>
<p>brief Perform a non-blocking SPI transfer using DMA.</p>
<p>note This interface returned immediately after transfer initiates, users should call SPI_GetTransferStatus to poll the transfer status to check whether SPI transfer finished.</p>
<p>param base SPI peripheral base address. param handle SPI DMA handle pointer. param xfer Pointer to dma transfer structure. retval kStatus_Success Successfully start a transfer. retval kStatus_InvalidArgument Input argument is invalid. retval kStatus_SPI_Busy SPI is not idle, is running another transfer. </p>

</div>
</div>
<a id="ga642d1fe963b7f1c28e5d8f4dd5b92861"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga642d1fe963b7f1c28e5d8f4dd5b92861">&#9670;&nbsp;</a></span>SPI_MasterTransferGetCountDMA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ksdk__common.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> SPI_MasterTransferGetCountDMA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_s_p_i___type.html">SPI_Type</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__spi__dma__handle.html">spi_dma_handle_t</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the transferred bytes for SPI slave DMA. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>SPI peripheral base address. </td></tr>
    <tr><td class="paramname">handle</td><td>SPI DMA handle pointer. </td></tr>
    <tr><td class="paramname">count</td><td>Transferred bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">kStatus_SPI_Success</td><td>Succeed get the transfer count. </td></tr>
    <tr><td class="paramname">kStatus_NoTransferInProgress</td><td>There is not a non-blocking transaction currently in progress.</td></tr>
  </table>
  </dd>
</dl>
<p>brief Get the transferred bytes for SPI slave DMA.</p>
<p>param base SPI peripheral base address. param handle SPI DMA handle pointer. param count Transferred bytes. retval kStatus_SPI_Success Succeed get the transfer count. retval kStatus_NoTransferInProgress There is not a non-blocking transaction currently in progress. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
